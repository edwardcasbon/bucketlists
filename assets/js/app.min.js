var app=angular.module("Bucketlists",["ngRoute"]),user={id:1};app.config(["$routeProvider",function(a){a.when("/home",{templateUrl:"/assets/js/templates/home.html",controller:"home"}),a.when("/login",{templateUrl:"/assets/js/templates/login.html",controller:"login"}),a.when("/bucket/:id",{templateUrl:"/assets/js/templates/bucket.html",controller:"bucket"}),a.when("/item/:id",{templateUrl:"/assets/js/templates/item.html",controller:"item"}),a.otherwise({redirectTo:"/home"})}]),app.factory("api",["$http",function(a){var b={};return b.url="http://api.bucketlists.dev/",b.formatUrl=function(a,c){var d=b.url+a+"/",e=[];for(var f in c)e.push(f+"="+c[f]);return e.length>0&&(d+="?"+e.join("&")),d},b.buckets={},b.buckets.get=function(c){var d=b.formatUrl("buckets",c);return a.get(d)},b.buckets.create=function(c){var d=b.formatUrl("buckets/create",c);return a.post(d)},b.items={},b.items.get=function(c){var d=b.formatUrl("items",c);return a.get(d)},b}]),app.controller("bucket",["$scope","$routeParams","api","$q",function(a,b,c,d){var e,f=function(){a.title="Bucket",g().then(h)},g=function(){return d(function(d,f){c.buckets.get(b).success(function(b){e=b,a.title=e.label,d()}).error(function(a){console.log(a),f()})})},h=function(){c.items.get({bucketId:e.id}).success(function(b){a.items=b}).error(function(a){console.log(a)})};f()}]),app.controller("home",["$scope","$routeParams","api",function(a,b,c){init=function(){a.title="Buckets",d(function(b){a.buckets=b})};var d=function(a){c.buckets.get({userId:user.id}).success(function(b){"function"==typeof a&&a.call(this,b)}).error(function(a){console.log(a)})};a.forms={},a.forms.create={},a.forms.create.submit=function(b){c.buckets.create({userId:user.id,label:this.label}).success(function(b){a.buckets.push(b)}).error(function(a){console.log(a)})},init()}]),app.controller("item",["$scope","$routeParams","api","$q",function(a,b,c,d){var e,f,g=function(){a.title="Item",h().then(i)},h=function(){return d(function(d,e){c.items.get(b).success(function(b){f=b[0],a.title=f.label,d()}).error(function(a){console.log(a),e()})})},i=function(){c.buckets.get({id:f.bucket_id}).success(function(a){e=a[0]}).error(function(a){console.log(a)})};g()}]),app.controller("login",["$scope",function(a){a.title="Login"}]);
//# sourceMappingURL=app.min.js.map