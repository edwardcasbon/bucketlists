var app={};app.el=$("#app"),app.scope="bl",_.templateSettings.variable=app.scope,app.User={id:1},app.Api={url:"http://api.bucketlists.dev/"},app.BucketModel=Backbone.Model.extend({label:"Bucket model default label",url:function(){return app.Api.url+"buckets?id="+this.id},initialize:function(a){this.id=a}}),app.ItemModel=Backbone.Model.extend({}),app.BucketCollection=Backbone.Collection.extend({model:app.BucketModel,url:function(){return app.Api.url+"buckets?userId="+app.User.id}}),app.ItemCollection=Backbone.Collection.extend({model:app.ItemModel,params:{},url:function(){return app.Api.url+"items?bucketId="+this.params.bucketId},initialize:function(a){this.params=a}}),app.BucketView=Backbone.View.extend({template:_.template($("script.bucket").html()),data:{},initialize:function(a){this.render(),this.bucket=new app.BucketModel(a),this.listenTo(this.bucket,"sync add remove change",function(){this.data.bucket=this.bucket.toJSON(),this.render()}),this.bucket.fetch(),this.items=new app.ItemCollection({bucketId:a}),this.listenTo(this.items,"sync add remove change",function(){this.data.items=this.items.toJSON(),this.render()}),this.items.fetch()},render:function(){return this.$el.html(this.template(this.data)),this}}),app.HomeView=Backbone.View.extend({template:_.template($("script.home").html()),data:{title:"Buckets"},events:{"click .create":"_showForm"},initialize:function(){this.render(),this.buckets=new app.BucketCollection,this.listenTo(this.buckets,"sync add remove change",function(){this.data.buckets=this.buckets.toJSON(),this.render()}),this.buckets.fetch()},render:function(){return this.$el.html(this.template(this.data)),this},_showForm:function(a){a.preventDefault(),console.log("Show the form")}});var Router=Backbone.Router.extend({routes:{"":"home",home:"home","bucket/:id":"bucket","item/:id":"item"},home:function(){var a=new app.HomeView;app.el.html(a.el)},bucket:function(a){var b=new app.BucketView(a);app.el.html(b.el)},item:function(a){var b=new app.ItemView(a);app.el.html(b.el)}}),router=new Router;Backbone.history.start();
//# sourceMappingURL=app.min.js.map